:root{
  --bg:#0b0d10;
  --panel:#0f1318;
  --text:#e7edf6;
  --muted:#9fb0c8;
  --prime:#3ea6ff;
  --accent:#6ee7b7;
  --card:#121820;
  --border:rgba(255,255,255,.08);
  --shadow:0 10px 30px rgba(0,0,0,.3);
  --radius:16px;
}
:root.light{
  --bg:#f6f7fb;
  --panel:#ffffff;
  --text:#0e1622;
  --muted:#4b5563;
  --prime:#2a2c31;
  --accent:#059669;
  --card:#ffffff;
  --border:rgba(0,0,0,.08);
  --shadow:0 10px 30px rgba(0,0,0,.07);
}

html,body{height:100%; overflow-x:hidden}
:root{ -webkit-text-size-adjust:100% }
*{ box-sizing:border-box }
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  background:
    radial-gradient(1200px 1200px at 120% -20%, rgba(62,166,255,.14), transparent 60%),
    radial-gradient(900px 900px at -10% -10%, rgba(110,231,183,.12), transparent 60%),
    var(--bg);
  color:var(--text);
  line-height:1.6;
}
.wrap{max-width:1200px;margin:0 auto;padding:28px 18px 80px}

header.top{
  display:flex;align-items:center;gap:14px;justify-content:space-between;
  position:sticky;top:0;backdrop-filter:blur(6px);
  background:color-mix(in srgb, var(--bg) 80%, transparent);
  z-index:10;border-bottom:1px solid var(--border);
  padding:14px 18px;margin:-28px -18px 24px;
}
.brand{display:flex;gap:14px;align-items:center}
.logo{
  width:36px;height:36px;border-radius:10px;
  background:linear-gradient(135deg,var(--prime),var(--accent));
  box-shadow:var(--shadow);display:grid;place-items:center;
  font-weight:800;color:white
}
.brand h1{font-size:16px;margin:0;letter-spacing:.3px}

nav{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
nav a{
  display:inline-flex;align-items:center;justify-content:center;
  height:36px;padding:0 12px;margin:0;
  border:1px solid var(--border);border-radius:12px;
  color:var(--muted);text-decoration:none;font-weight:600;line-height:1;
  background:linear-gradient(180deg, color-mix(in srgb, var(--panel) 92%, #fff 8%), var(--panel));
}
nav a:hover{color:var(--text);border-color:color-mix(in srgb, var(--prime) 35%, var(--border))}
nav a.active{background:color-mix(in srgb, var(--prime) 16%, transparent);color:var(--text);border-color:color-mix(in srgb, var(--prime) 40%, var(--border))}

#darkToggle{
  width:36px;height:12px;padding:0;margin:0;
  display:grid;place-items:center;
  border:1px solid var(--border);border-radius:12px;
  background:linear-gradient(180deg, color-mix(in srgb, var(--panel) 92%, #fff 8%), var(--panel));
  cursor:pointer;
}
#darkToggle svg{width:18px;height:18px;display:block}

.btn{
  border:1px solid var(--border);
  background:linear-gradient(180deg, color-mix(in srgb, var(--panel) 90%, #fff 10%), var(--panel));
  padding:10px 14px;border-radius:12px;color:var(--text);font-weight:600;cursor:pointer;
  min-height:40px;
}
.btn:hover{transform:translateY(-1px)}
.btn.ghost{background:transparent}
.chip{border:1px solid var(--border);padding:8px 12px;border-radius:999px;color:var(--muted);font-weight:600}

.tag{
  -webkit-appearance:none; appearance:none; 
  border:1px solid var(--border);
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
  color:var(--muted);
  font-weight:600;
  background:linear-gradient(180deg, color-mix(in srgb, var(--panel) 92%, #fff 8%), var(--panel));
  transition: border-color .15s ease, color .15s ease, background .15s ease;
}
.tag:hover{
  color:var(--text);
  border-color:color-mix(in srgb, var(--prime) 35%, var(--border));
}
.tag.active{
  background:color-mix(in srgb, var(--prime) 16%, transparent);
  color:var(--text);
  border-color:color-mix(in srgb, var(--prime) 40%, var(--border));
}
.tag.active{background:color-mix(in srgb, var(--prime) 18%, transparent);color:var(--text);border-color:color-mix(in srgb, var(--prime) 40%, var(--border))}

.hero{display:grid;grid-template-columns:1.3fr 1fr;gap:22px;align-items:center;margin:8px 0 22px}
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}
.hero .card{padding:26px}
.hero h2{font-size:28px;line-height:1.25;margin:0 0 10px}
.hero p{margin:0;color:var(--muted)}
.tools {display: flex;gap: 10px;flex-wrap: wrap;margin-top: 16px;}
.controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin:18px 0}
.search{flex:1;display:flex;align-items:center;gap:10px;background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:10px 12px}
.search input{flex:1;background:transparent;border:0;color:var(--text);outline:0;font-size:16px}
.hint{color:var(--muted);padding:0 4px 6px}

.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
@media (max-width:980px){.hero{grid-template-columns:1fr}.grid{grid-template-columns:1fr 1fr}}
@media (max-width:640px){.grid{grid-template-columns:1fr}}

.titles{
  margin-top:14px;border:1px solid var(--border);border-radius:12px;background:var(--panel);
  max-height:55vh;overflow:auto;
}
.title-item{display:flex;align-items:center;padding:12px 14px;border-bottom:1px solid var(--border);cursor:pointer;gap:10px}
.title-item:last-child{border-bottom:0}
.title-text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--text);font-weight:600;font-size:14px}
.title-item:hover{background:color-mix(in srgb, var(--prime) 10%, transparent)}
.title-date{color:var(--muted);font-size:12px}
#titleList button[disabled]{opacity:.4;cursor:default}

.post{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
  transition:transform .1s ease, box-shadow .2s ease;
}
.post:hover{transform:translateY(-2px);box-shadow:0 12px 30px rgba(0,0,0,.35)}
.post .meta{display:flex;gap:10px;align-items:center;color:var(--muted);font-size:12px;padding:10px 14px 0}
.post h3{font-size:18px;margin:10px 14px 6px}
.post p{margin:0 14px 14px;color:var(--muted)}
.thumb{position:relative;overflow:hidden;height:150px;border-bottom:1px solid var(--border);background:var(--panel)}
.thumb img{width:100%;height:100%;object-fit:cover;display:block}

#articleView .card{padding:26px}
#articleView .card h1,h2,h3{line-height:1.25;margin:18px 0 8px}
#articleView .card p{margin:10px 0}
#articleView .card pre{background:#0b1220;border:1px solid var(--border);border-radius:12px;padding:12px;overflow:auto}
#articleView .card code{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace}
#articleView .card table{width:100%;border-collapse:collapse;margin:12px 0}
#articleView .card th,#articleView .card td{border:1px solid var(--border);padding:8px 10px;text-align:left}
#articleView .card img{max-width:100%;height:auto;border-radius:10px;border:1px solid var(--border)}

.pdfwrap{height:720px}
.pdfwrap object{width:100%;height:100%}
@media (max-width:640px){ .pdfwrap{height:60vh} }

.footer{margin-top:28px;display:flex;justify-content:space-between;align-items:center;color:var(--muted)}
.small{font-size:12.5px}
.muted{color:var(--muted);text-decoration:none}
.hidden{display:none}

:focus{outline:2px solid color-mix(in srgb,var(--prime) 50%, transparent); outline-offset:3px}
:focus { outline: none; }

@media (max-width:640px){
  .wrap{padding:18px 12px 64px}
  header.top{padding:10px 12px;margin:-18px -12px 16px}
  .brand h1{font-size:14px}
  nav{gap:8px}
  nav a{height:34px;padding:0 10px;font-size:13px}
  #darkToggle{width:34px;height:34px}
}

@media (max-width:840px){
  .hero{grid-template-columns:1fr;gap:14px;margin:6px 0 14px}
  .hero .card{padding:18px}
  .hero h2{font-size:22px}
  .chip{padding:6px 10px}
}
.section-title{
  font-size:18px;
  font-weight:700;
  margin:8px 0 12px;
  color:var(--text);
}

.section-title{
  font-size:18px;
  font-weight:700;
  margin:8px 0 12px;
  color:var(--text);
}
.basics {
  margin-top: 32px;
}

.section-subtitle {
  font-size: 18px;
  font-weight: 700;
  color: var(--text);
  margin-bottom: 14px;
}

.basic-cards {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
}

.basic-card {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 16px;
  box-shadow: 0 6px 18px rgba(0,0,0,.25);
  transition: transform .1s ease, box-shadow .2s ease;
}

.basic-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
}

.basic-card h4 {
  margin: 0 0 8px;
  color: var(--text);
  font-size: 16px;
  font-weight: 700;
}

.basic-card p {
  margin: 0;
  color: var(--muted);
  font-size: 14px;
  line-height: 1.5;
}

@media (max-width: 840px) {
  .basic-cards {
    grid-template-columns: 1fr;
  }
}
.basics{ margin-top:24px }
.basics-mini{
  display:flex; gap:8px; flex-wrap:wrap;
}
.mini-item{
  -webkit-appearance:none; appearance:none;
  border:1px solid var(--border);
  background:linear-gradient(180deg, color-mix(in srgb, var(--panel) 92%, #fff 8%), var(--panel));
  color:var(--text);
  border-radius:999px;
  padding:8px 12px;
  font-weight:700; font-size:13px;
  cursor:pointer;
  transition:transform .1s ease, box-shadow .2s ease, border-color .15s ease;
}
.mini-item:hover{
  transform:translateY(-1px);
  border-color:color-mix(in srgb, var(--prime) 35%, var(--border));
}

.overlay{
  position:fixed; inset:0; z-index:1000;
  display:grid; place-items:center;
}
.overlay.hidden{ display:none }
.overlay-bg{
  position:absolute; inset:0;
  background:rgba(0,0,0,.45);
  backdrop-filter: blur(6px);
}
.modal{
  position:relative;
  width:min(960px, 92vw);
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  box-shadow: 0 30px 80px rgba(0,0,0,.5);
  padding:16px 16px 12px;
}
.icon-btn.close{
  position:absolute; top:8px; right:10px;
  background:transparent; border:0; color:var(--muted);
  font-size:28px; line-height:1; cursor:pointer;
}
.icon-btn.close:hover{ color:var(--text) }

.modal-inner{
  display:grid; grid-template-columns:1.3fr .7fr; gap:16px;
}
.modal-title{
  margin:8px 0 8px; font-size:18px; font-weight:800;
}
.modal-body{
  color:var(--muted); font-size:14px; line-height:1.6;
}
.modal-body p{ margin:0 0 10px }
.modal-body ul{ margin:0 0 10px 18px }

.modal-side{
  position:relative;
  display:grid; align-content:center;
}
.wire{
  position:absolute; inset:0;
}
.wire path{
  stroke: color-mix(in srgb, var(--prime) 65%, #fff 0%);
  stroke-width:2.5; fill:none;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.35));
}
.side-card{
  position:relative;
  margin-left:48px;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px;
  box-shadow: var(--shadow);
}
.side-label{
  font-size:11px; letter-spacing:.3px; color:var(--muted); margin-bottom:6px; font-weight:800;
}
.side-title{ font-weight:800; color:var(--text); margin-bottom:10px }

.modal-nav{
  display:flex; gap:10px; justify-content:flex-end; margin-top:10px;
}
.btn.small{ min-height:32px; padding:6px 10px; font-size:13px }

@media (max-width:840px){
  .modal-inner{ grid-template-columns:1fr; }
  .modal{ padding:14px 12px 10px }
  .wire{ display:none }
  .side-card{ margin-left:0 }
}
/* =========================
   Essentials Modal 
   ========================= */

.modal{ 
  position: relative;
  overflow: visible;
  width: min(640px, 60vw);
  max-width: 640px;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: 0 30px 80px rgba(0,0,0,.5);
  padding: 20px 24px 18px;
}

.modal-wrap{
  position: relative;
  width: min(1200px, 96vw);
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
}

.peek-card,
.peek-card-left{
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 260px;
  height: 220px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;   
  gap: 6px;
  padding: 16px;
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 14px;
  box-shadow: 0 20px 60px rgba(0,0,0,.45);
  filter: blur(1.8px);
  opacity: .75;
  transition: filter .25s ease, opacity .25s ease, transform .25s ease;
  cursor: pointer;
  z-index: 1;
}
.peek-card      { left:  calc(100% + 60px); }
.peek-card-left { right: calc(100% + 60px); }

.peek-card:hover      { filter: blur(0.6px); opacity: 1; transform: translate(-4px, -50%); }
.peek-card-left:hover { filter: blur(0.6px); opacity: 1; transform: translate( 4px, -50%); }

#prevPeek.blurPersist,
#nextPeek.blurPersist{
  filter: blur(1.8px);
  opacity: .75;
  transition: none;
}

.side-label{ font-size:12px; color:var(--muted); font-weight:700; margin-bottom:4px }
.side-title{ font-weight:800; color:var(--text); font-size:15px; margin-bottom:6px; text-wrap:balance }
.side-hint { font-size:13px; color:var(--muted) }

.peek-wire,
.peek-wire-left{
  position: absolute;
  top: 50%;
  height: 200px;
  width: 280px;
  pointer-events: none;
  z-index: 0;
  filter: blur(0.5px);
}
.peek-wire      { left:  calc(100% - 40px); transform: translate(-180px, -50%); } 
.peek-wire-left { right: calc(100% - 40px); transform: translate( 180px, -50%); } 

.peek-wire path,
.peek-wire-left path{
  stroke: white;
  stroke-width: 2.5;
  fill: none;
  opacity: 0.9;
  filter:
    drop-shadow(0 0 6px  rgba(255,255,255,0.9))
    drop-shadow(0 0 12px rgba(255,255,255,0.6))
    drop-shadow(0 0 18px rgba(255,255,255,0.3));
  animation: wirePulse 3s ease-in-out infinite;
}
@keyframes wirePulse{
  0%,100%{ opacity:.8 }
  50%{
    opacity:1;
    filter:
      drop-shadow(0 0 10px rgba(255,255,255,0.9))
      drop-shadow(0 0 20px rgba(255,255,255,0.7));
  }
}

@media (max-width:900px){
  .peek-card, .peek-card-left, .peek-wire, .peek-wire-left{ display:none }
  .modal{ width: min(900px, 92vw) }
}

/* =========================
   Legacy (kept for safety)
   ========================= */
.modal-side{
  position:absolute;
  right:-36px;
  top:22px;
  width:260px;
  pointer-events:none;
}
.wire{
  position:absolute;
  right:220px;
  top:-4px;
  width:220px;
  height:140px;
}
.wire path{
  stroke: color-mix(in srgb, var(--prime) 65%, #fff 0%);
  stroke-width:2.5;
  fill:none;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.35));
}
.side-card{
  pointer-events:auto;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px 14px;
  box-shadow: var(--shadow);
  filter: blur(1.5px);
  opacity:.75;
  transition: filter .18s ease, opacity .18s ease, transform .18s ease;
  backdrop-filter: saturate(110%);
  cursor:pointer;
}
.side-card:hover{ filter:none; opacity:1; transform: translateX(-2px) }
@media (max-width:840px){ .modal-side{ display:none } }

.peek-card,
.peek-card-left {
  text-align: center;            
}

.peek-card .side-title,
.peek-card-left .side-title {
  text-align: center;
  line-height: 1.25;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;        
  text-wrap: balance;
}

.peek-card .side-hint,
.peek-card-left .side-hint {
  text-align: center;
}
.home-link{
  text-decoration: none;
  color: inherit;
  cursor: pointer;
}
.home-link:hover{
  color: var(--prime);
}
/* =============================
   Language Toggle Button
   ============================= */

#langToggle {
  cursor: pointer;
  font-weight: 600;
  font-size: 0.9rem;
  border-radius: var(--radius);
  border: 1px solid var(--border);
  background: var(--panel);
  color: var(--text);
  padding: 6px 12px;
  transition: all 0.2s ease;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

#langToggle:hover {
  background: var(--prime);
  color: #fff;
  border-color: var(--prime);
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

#langToggle:active {
  transform: scale(0.96);
  box-shadow: 0 1px 4px rgba(0,0,0,0.15);
}

/* Make it align nicely with the theme button */
nav #langToggle {
  margin-right: 6px;
}
#tagBar { display: none !important; }